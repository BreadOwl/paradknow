{% extends "base.html" %}
{% block content %}
    <title>{{ topic.name }}</title>
    <h1>–¢–µ–º–∞: {{ topic.name }}</h1>
    <br>–í —Ä–∞–º–∫–∞—Ö –∫–∞–∂–¥–æ–π —Ç–µ–º—ã –º–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫—É. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç –≤–æ–ø—Ä–æ—Å. –ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç, –Ω—É–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –≤–æ–ø—Ä–æ—Å—É. –ß—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É, –Ω—É–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –æ—Ç–≤–µ—Ç.

    <p><a href="{% url 'checkyoslf' topic_pk=topic.pk %}">‚ñ∂ –ù–∞—á–∞—Ç—å —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫—É</a></p>

    <br>–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å, –Ω—É–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å–∞–º –≤–æ–ø—Ä–æ—Å.
    <h2>–í–æ–ø—Ä–æ—Å—ã:</h2>
    <a href="{% url 'question_add' topic_pk=topic.pk %}">–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å</a>
    {% if questions %}
        <ul>
            {% for question in questions %}
                <li>
                    <div class="question-block" onclick="toggleAnswer({{ question.pk }})">
                    <strong>{{ question.title }}</strong>
                    <a href="{% url 'question_edit' question.pk %}">‚úèÔ∏è</a>
                    <a href="{% url 'question_delete' question.pk %}" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å?')">üóëÔ∏è</a>
                    <div class="question-text">{{ question.text|truncatechars:100 }}</div>
                    <div class="answer" id="answer-{{ question.pk }}" style="display: none;">
                        {{ question.answer|safe }}
                    </div>
                </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>–ü–æ–∫–∞ –Ω–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —ç—Ç–æ–π —Ç–µ–º–µ.</p>
    {% endif %}

<p><a href="{% url 'index' %}">–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Ç–µ–º</a></p>

<script>
    function toggleAnswer(id) {
        const answerDiv = document.getElementById('answer-' + id);
        if (answerDiv.style.display === 'none') {
            answerDiv.style.display = 'block';
        } else {
            answerDiv.style.display = 'none';
        }
    }
</script>
{% endblock content %}